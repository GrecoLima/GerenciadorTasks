<!--
  Generated template for the EffectuerVirementPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color=primary>
        <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
        <ion-title>{{title}}</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <div style="text-align: center; margin-bottom: 20px;">
        <img src="assets/logo_clock.png">
    </div>
    <ion-list>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-label>Tipo da Ocorrência</ion-label>
                    <ion-select [(ngModel)]="task.type" >
                        <ion-option value="Call">Urgente</ion-option>
                        <ion-option value="Meeting">Grave</ion-option>
                        <ion-option value="Task">Acidente</ion-option>
                        <ion-option value="Deadline">Acidente Natural</ion-option>
                        <ion-option value="Email">Patrulha</ion-option>
                        <ion-option value="Lunch">Dúvidas</ion-option>
                    </ion-select>
                </ion-item>
            </ion-col>
        </ion-row>
        
        <ion-row>
            <ion-col col-6>
                <ion-item>
                    <ion-label>Periodicidade</ion-label>
                    <ion-select [(ngModel)]="task.period" >
                        <ion-option value="">Nao periodico</ion-option>
                        <ion-option value="Daily">Diariamente</ion-option>
                        <ion-option value="Weekly">Semanalmente</ion-option>
                        <ion-option value="Monthly">Mensalmente</ion-option>
                        <ion-option value="Quarterly">Trimestral</ion-option>
                        <ion-option value="Half-yearly">Semestral</ion-option>
                        <ion-option value="Annual">Anual</ion-option>
                    </ion-select>
                </ion-item>
            </ion-col>
            <ion-col col-6>
                <ion-item>
                    <ion-label>Lembrete</ion-label>
                    <ion-select [(ngModel)]="task.reminder">
                        <ion-option value="30">30 min</ion-option>
                        <ion-option value="45">45 min</ion-option>
                        <ion-option value="60">1 hora</ion-option>
                        <ion-option value="120">2 horas</ion-option>
                        <ion-option value="180">3 horas</ion-option>
                    </ion-select>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-label>Titulo:</ion-label>
                    <ion-input type="text" [(ngModel)]="task.task"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col col-4>
                <ion-item>
                    <ion-label>Data:</ion-label>
                    <ion-datetime [(ngModel)]="task.date_expected" max="2030-12-31" displayFormat="DD/MM/YYYY" pickerFormat="DD MM YYYY"></ion-datetime>
                </ion-item>
            </ion-col>
            <ion-col col-4>
                <ion-item>
                    <ion-label>Tempo:</ion-label>
                    <ion-datetime [(ngModel)]="task.time" max="2030-12-31" displayFormat="HH:mm" pickerFormat="HH mm"></ion-datetime>
                </ion-item>
            </ion-col>
            <ion-col col-4>
                <ion-item>
                    <ion-label>Duração:</ion-label>
                    <ion-datetime [(ngModel)]="task.duration" max="2030-12-31" displayFormat="HH:mm" pickerFormat="HH mm"></ion-datetime>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-label>Detalhe:</ion-label>
                    <ion-textarea type="text" [(ngModel)]="task.detail"></ion-textarea>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label>Atribuído para:</ion-label>
                        <ion-select [(ngModel)]="task.assigned_to">
                            <ion-option *ngFor="let usr of users" value="{{usr.id}}">{{usr.firstname}} {{usr.name}}</ion-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
            </ion-row>
        <button ion-button round block (click)="newtask()">Salvar</button>
    </ion-list>
</ion-content>