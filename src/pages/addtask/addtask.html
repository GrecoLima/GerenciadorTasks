<!--
  Generated template for the EffectuerVirementPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color=primary>
        <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
        <ion-title>{{title}}</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <div style="text-align: center; margin-bottom: 20px;">
        <img src="assets/logo_clock.png">
    </div>
    <ion-list>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-label>Type of task</ion-label>
                    <ion-select [(ngModel)]="task.type" >
                        <ion-option value="Call">Call</ion-option>
                        <ion-option value="Meeting">Meeting</ion-option>
                        <ion-option value="Task">Task</ion-option>
                        <ion-option value="Deadline">Deadline</ion-option>
                        <ion-option value="Email">Email</ion-option>
                        <ion-option value="Lunch">Lunch</ion-option>
                    </ion-select>
                </ion-item>
            </ion-col>
        </ion-row>
        
        <ion-row>
            <ion-col col-6>
                <ion-item>
                    <ion-label>Periodicity</ion-label>
                    <ion-select [(ngModel)]="task.period" >
                        <ion-option value="">No periodicity</ion-option>
                        <ion-option value="Daily">Daily</ion-option>
                        <ion-option value="Weekly">Weekly</ion-option>
                        <ion-option value="Monthly">Monthly</ion-option>
                        <ion-option value="Quarterly">Quarterly</ion-option>
                        <ion-option value="Half-yearly">Half-yearly</ion-option>
                        <ion-option value="Annual">Annual</ion-option>
                    </ion-select>
                </ion-item>
            </ion-col>
            <ion-col col-6>
                <ion-item>
                    <ion-label>Reminder</ion-label>
                    <ion-select [(ngModel)]="task.reminder">
                        <ion-option value="30">30 min</ion-option>
                        <ion-option value="45">45 min</ion-option>
                        <ion-option value="60">1 hour</ion-option>
                        <ion-option value="120">2 hour</ion-option>
                        <ion-option value="180">3 hour</ion-option>
                    </ion-select>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-label>Title:</ion-label>
                    <ion-input type="text" [(ngModel)]="task.task"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col col-4>
                <ion-item>
                    <ion-label>Date:</ion-label>
                    <ion-datetime [(ngModel)]="task.date_expected" max="2030-12-31" displayFormat="DD/MM/YYYY" pickerFormat="DD MM YYYY"></ion-datetime>
                </ion-item>
            </ion-col>
            <ion-col col-4>
                <ion-item>
                    <ion-label>Time:</ion-label>
                    <ion-datetime [(ngModel)]="task.time" max="2030-12-31" displayFormat="HH:mm" pickerFormat="HH mm"></ion-datetime>
                </ion-item>
            </ion-col>
            <ion-col col-4>
                <ion-item>
                    <ion-label>Duration:</ion-label>
                    <ion-datetime [(ngModel)]="task.duration" max="2030-12-31" displayFormat="HH:mm" pickerFormat="HH mm"></ion-datetime>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-label>Detail:</ion-label>
                    <ion-textarea type="text" [(ngModel)]="task.detail"></ion-textarea>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label>Assigned To:</ion-label>
                        <ion-select [(ngModel)]="task.assigned_to">
                            <ion-option *ngFor="let usr of users" value="{{usr.id}}">{{usr.firstname}} {{usr.name}}</ion-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
            </ion-row>
        <button ion-button round block (click)="newtask()">Save</button>
    </ion-list>
</ion-content>